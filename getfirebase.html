<html>
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <script src="https://unpkg.com/vue@next"></script>
    <title>~ChatROOM~</title>
     

</head>
  
        
<body > 
 
    <!-- <div id="app5">
        <p>Height:<input type="number" v-model="state.height">CM</p>
        <p>Weight:<input type="number" v-model="state.weight">KG</p>
        <p>BMI: {{ state.bmi }}</p>
        <p>Suggestion:{{ state.bmiMessage }}</p>
    </div>

    <div id="app3">
        <p>
            <input type="text" v-model="state.number1"> + 
            <input type="text" v-model="state.number2"> = {{ result() }}
        </p>
    </div>


    <div id="app2">
        <p>Type: {{ framework.type }}</p>
        <p>Framework: {{ framework.name }}</p>
    </div>
 

    <div id="app1">
        <h3>Root Instance</h3> 
        <my-component></my-component> 
        <div v-for="item in messages" :key="item.key"></div>
    </div> -->

    <div id="app6">
        here is 666:

        <h4>Tutorials List</h4> 
        
        <ul class="list-group">
            <li
              class="list-group-item" 
              v-for="(message, index) in messages"
              :key="index" 
            >
              {{ messages.message }}
            </li>
          </ul> 
        <hr> 

        </div>
         
    </div>

</body>
</html>

<!-- APP2 -->
 
 
 

   
  <!-- The core Firebase JS SDK is always required and must be listed first -->
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/8.9.1/firebase-database.min.js"></script>
  <!-- TODO: Add SDKs for Firebase products that you want to use
      https://firebase.google.com/docs/web/setup#available-libraries -->
  <!-- <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-analytics.js"></script> -->

       

     
        <script>
        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        var firebaseConfig = {
            apiKey: "AIzaSyBcH9bj8Bm5vSZPbaBnBy-FS9IaGA_iI1M",
            authDomain: "fire-base-demo-0811.firebaseapp.com",
            databaseURL: "https://fire-base-demo-0811-default-rtdb.asia-southeast1.firebasedatabase.app",
            projectId: "fire-base-demo-0811",
            storageBucket: "fire-base-demo-0811.appspot.com",
            messagingSenderId: "236106228674",
            appId: "1:236106228674:web:0682d496d91782c16fac5b",
            measurementId: "G-K3QBQV5GH0"
        };
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);  
        const db = firebase.database(); 
        // const msgRef = db.ref('tutorials'); 
        const msgRef = db.ref("messages");
        // Vue
        // // import {
        // //     createApp,
        // //     ref,
        // //     onMounted
        // // } from "https://cdnjs.cloudflare.com/ajax/libs/vue/3.2.0-beta.7/vue.esm-browser.min.js";
        // createApp({
        // setup() {
        //     // date
        //     const message = ref("");
        // // mounted
        // onMounted(() => {
        //     // é€™æ˜¯ firebase ç²å–(é€£çµ)è³‡æ–™å…§å®¹çš„æ–¹æ³•
        //     msgRef.on("value", (snapshot) => {
        //         // æŠŠè³‡æ–™åº«çš„æ•¸æ“šä¸Ÿçµ¦ chatroom é€™å€‹é™£åˆ— å†åˆ° DOM ä¸Šç”¨ v-for æ¸²æŸ“è³‡æ–™
        //         chatroom.value = snapshot.val();
        //     });
        //     });
            
        //     // æœ€é‡è¦çš„ä¸€æ­¥ è¨˜å¾—æŠŠå®£å‘Šçš„æ±è¥¿å¡é€²å» ä½ å°±å®Œæˆäº†ğŸ‘
        //     return {
        //     message, 
        //     };
        // }
        // }).mount("#app6");

        const app= Vue.createApp({
            data(){
                return{ 
                    tutorials: [], 
                }
            },
            methods: { 
                onDataChange(items) {
                let _tutorials = [];

                items.forEach((item) => {
                    let key = item.key;
                    let data = item.val();
                    _tutorials.push({
                    key: key,
                    title: data.title,
                    description: data.description,
                    published: data.published,
                    });
                });

                this.tutorials = _tutorials;
                },
            },
            mounted() {
                msgRef.on("value", (snapshot) => { // æŠŠè³‡æ–™åº«çš„æ•¸æ“šä¸Ÿçµ¦ chatroom é€™å€‹é™£åˆ— å†åˆ° DOM ä¸Šç”¨ v-for æ¸²æŸ“è³‡æ–™
                 const data=snapshot.val();
                 
                    console.log(data);
                    this.msgRef =data;
                    console.log(data); 
                    // console.log(data.message["title"][2])
                });
            }, 
            
        }).mount("#app6")



        // const key = msgRef.push().key; // é€™æ˜¯ firebase çš„å…§å»ºå¹«æˆ‘å€‘å»ºç«‹äº‚æ•¸çš„ key
        // // é€™é‚Šæ˜¯æŠŠæ•¸æ“šæ¨åˆ° realtime è³‡æ–™åº«ä¸­çš„ message é€™å€‹è³‡æ–™é›†åˆ(ä¸ç¢ºå®šé€™è©æœ‰æ²’æœ‰ç”¨éŒ¯)è£¡é¢
        // msgRef.child(key).set({
        //     message: 'ç¬¬5æ¬¡', // é€™æ˜¯ç”¨æˆ¶è¼¸å…¥çš„è¨Šæ¯å…§å®¹ 
        // })
    </script>
 